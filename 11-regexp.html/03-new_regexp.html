<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /**
         * RegExp对象属性
         * global   RegExp对象是否具有标志g。
         * ignoreCase   RegExp对象是否具有标志i。
         * multiline    RegExp对象是否具有标志m。
         * source   正则表达式的源文本
         * lastIndex    一个整数，标示开始下一次匹配的字符位置 能用到的 正则表达式必须加global->g 才会生效
        */
       /**
        * RegExp对象方法
        * compile   编译正则表达式
        * exec  检测字符串中指定的值。返回找到的值,并确定其位置 通俗点称高级查找
        * test  检索字符串中指定的值。返回true或false。
       */
      /**
       * 支持正则表达式的String对象方法
       * search 检索与正则表达式相匹配的值。    返回匹配到的位置 正则表达式加g还是返回匹配到的位置，匹配不到返回-1
       * match  找到一个或多个正则表达式的匹配。    不加g返回匹配内容跟exec差不多，加g只返回匹配到的结果
       * split  把字符串分割为字符串数组。如果使用自表达式匹配，他会把自表达式添加匹配内容一起匹配。console.log('bc0dac1deaaw2wafwae'.split(/(\d)/));
       * replace    替换与正则表达式匹配的字串。
      */
      var str2="aabb"
      //search
      console.log(str2.search(/b/));//加不加g没区别
      //match
      console.log(str2.match(/(a)\1/g));
      console.log(str2.match(/(a)\1(b)\2/g));
      //split  使用自表达式现象
      console.log('bc0dac1deaaw2wafwae'.split(/(\d)/));
      //replace
      var strreplace='wa24aabbccddeeff';
      console.log(strreplace.replace(/a/g,"b"));//正则表达式匹配全部，普通字符串替换只能替换一个
      console.log(strreplace.replace(/(a)\1(b)\2/g,"$2$2$1$1"),"replace$2$2$1$1");//反转替换想把内容替换成$就是使用"$$""
      //必须使用自表达式
      console.log(strreplace.replace(/(a)\1(b)\2(c)\3(d)/g,function(str,...$){
          //str是匹配到的内容
          var returnstr="";
          //处理后续接收到的数据
         for(var i=$.length-2;i>=0;i--){
            returnstr+=$[i]+$[i]
         }
         return returnstr;
      }))

    // 正向预查 正向断言  ?=n  匹配任何其后紧接指定字符串n的字符串
    str="abaaaa";
    console.log(str.match(/a+(?=b)/g),'正向预查，正向断言');
    //   ?!n  匹配任何其后没有紧接指定字符串n的字符串
    console.log(str.match(/a+(?!=b)/g),"反向预查");

      var reg2=(/(a)\1(b)\2/g);
      console.log(reg2.exec(str2))
      console.log(reg2.lastIndex)
      var str='abcdab0ab'
      var reg=/ab/g;
      var newReg=RegExp("");
      console.log(reg.exec(str))
      console.log(reg.lastIndex)

      console.log(reg.exec(str))
      console.log(reg.lastIndex)
    //   .exec(reg)
    </script>
</body>
</html>